generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id         String     @id @default(cuid())
  username   String     @unique
  email      String     @unique
  password   String
  playlists  Playlist[]
  videos     Video[]
}

model Playlist {
  id        String @id @default(cuid())
  name      String
  isPublic  Boolean
  userId    String
  user      User   @relation(fields: [userId], references: [id], onDelete: Cascade)
  videos    Video[] @relation("PlaylistToVideo")
}

model Video {
  id             String     @id @default(cuid())
  title          String
  width          Int
  height         Int
  thumbnailUrl   String
  videoUrl       String
  isPublic       Boolean
  uploaderId     String
  uploader       User       @relation(fields: [uploaderId], references: [id])
  playlists      Playlist[] @relation("PlaylistToVideo")
}
